# --- PROJECT CARTESIAN SAFE-MODE CONFIG ---

monitor=,preferred,auto,1

input {
    kb_layout = us
    follow_mouse = 1
    repeat_rate = 35
    repeat_delay = 300
}

general {
    gaps_in = 0
    gaps_out = 0
    border_size = 1
    col.active_border = rgba(33ccffee)
    col.inactive_border = rgba(595959aa)
    layout = dwindle
}

decoration {
    rounding = 0
}

animations {
    enabled = false
}

cursor {
    no_hardware_cursors = true
}

# --- PERFORMANCE FIXES ---
misc {
    vfr = true
    disable_hyprland_logo = true
    disable_splash_rendering = true
}

# --- CONVENIENCE SERVICES ---

# 1. Start VBox services 
exec-once = pkill VBoxClient; VBoxClient --clipboard && VBoxClient --draganddrop && VBoxClient --checkhostversion

# 2. Wayland Clipboard Bridge
exec-once = wl-paste --watch cliphist store

# 3. UI Elements
exec-once = waybar
# REVERT: Adding a tiny sleep to ensure Hyprland is fully ready before Kitty tries to open
exec-once = sleep 1 && kitty

# 4. Simplified Shared Folder Mount
exec-once = mkdir -p ~/share && sleep 4 && (sudo mount -t vboxsf cartesian_share ~/share && echo "✅ Mount success" > /tmp/cartesian_mount.log || echo "❌ Mount failed" > /tmp/cartesian_mount.log)

# --- KEYBINDINGS ---
bind = SUPER, Q, exec, kitty
bind = SUPER, E, exec, thunar
bind = SUPER, M, exit,
bind = SUPER, V, exec, cliphist list | wofi --dmenu | cliphist decode | wl-copy