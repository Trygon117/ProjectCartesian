# --- PROJECT CARTESIAN SAFE-MODE CONFIG ---

monitor=,preferred,auto,1

input {
    kb_layout = us
    follow_mouse = 1
    repeat_rate = 35
    repeat_delay = 300
}

general {
    gaps_in = 0
    gaps_out = 0
    border_size = 1
    col.active_border = rgba(33ccffee)
    col.inactive_border = rgba(595959aa)
    layout = dwindle
}

decoration {
    rounding = 0
}

animations {
    enabled = false
}

cursor {
    no_hardware_cursors = true
}

# --- PERFORMANCE FIXES ---
misc {
    vfr = true
    disable_hyprland_logo = true
    disable_splash_rendering = true
}

# --- CONVENIENCE SERVICES ---

# 1. Start VBox services 
exec-once = pkill VBoxClient; VBoxClient --clipboard && VBoxClient --draganddrop && VBoxClient --checkhostversion

# 2. Wayland Clipboard Bridge
exec-once = wl-paste --watch cliphist store

# 3. UI Elements
exec-once = waybar

# Reduced sleep: kitty only needs a fraction of a second for the compositor to init
exec-once = sleep 0.2 && kitty

# 4. Shared Folder Mount (Handled by systemd/fstab)
# No longer requires shell scripts or manual sudo. 
# Accessing ~/share will now trigger an automount via the fstab configuration.

# --- KEYBINDINGS ---
bind = SUPER, Q, exec, kitty
bind = SUPER, E, exec, thunar
bind = SUPER, M, exit,
bind = SUPER, V, exec, cliphist list | wofi --dmenu | cliphist decode | wl-copy